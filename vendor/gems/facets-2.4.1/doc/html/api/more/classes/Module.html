<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: Module</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />Module</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../files/lib/facets/annotations_rb.html">lib/facets/annotations.rb</a>
<a href="../files/lib/facets/classmethods_rb.html">lib/facets/classmethods.rb</a>
<a href="../files/lib/facets/dependency_rb.html">lib/facets/dependency.rb</a>
<a href="../files/lib/facets/memoize_rb.html">lib/facets/memoize.rb</a>
<a href="../files/lib/facets/attr_rb.html">lib/facets/attr.rb</a>
<a href="../files/lib/facets/settings_rb.html">lib/facets/settings.rb</a>
<a href="../files/lib/facets/1stclassmethod_rb.html">lib/facets/1stclassmethod.rb</a>
<a href="../files/lib/facets/overload_rb.html">lib/facets/overload.rb</a>
<a href="../files/lib/facets/methodspace_rb.html">lib/facets/methodspace.rb</a>
<a href="../files/lib/facets/capsule_rb.html">lib/facets/capsule.rb</a>
<a href="../files/lib/facets/equatable_rb.html">lib/facets/equatable.rb</a>
<a href="../files/lib/facets/class_extension_rb.html">lib/facets/class_extension.rb</a>
        </td>
      </tr>
    <tr>
      <td>Parent:</td>
      <td>
Object
     </td>
   </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000395">Equatable</a></li>
  <li><a href="#M000378">alias_accessor!</a></li>
  <li><a href="#M000384">alias_reader!</a></li>
  <li><a href="#M000385">alias_reader?</a></li>
  <li><a href="#M000374">alias_setter</a></li>
  <li><a href="#M000379">alias_switcher</a></li>
  <li><a href="#M000386">alias_tester</a></li>
  <li><a href="#M000380">alias_toggler</a></li>
  <li><a href="#M000372">alias_validator</a></li>
  <li><a href="#M000388">alias_writer!</a></li>
  <li><a href="#M000360">ann</a></li>
  <li><a href="#M000361">ann!</a></li>
  <li><a href="#M000358">annotations</a></li>
  <li><a href="#M000399">append_features</a></li>
  <li><a href="#M000398">append_features</a></li>
  <li><a href="#M000364">append_features</a></li>
  <li><a href="#M000396">append_features_without_class_extension</a></li>
  <li><a href="#M000362">attr</a></li>
  <li><a href="#M000375">attr_accessor!</a></li>
  <li><a href="#M000381">attr_reader!</a></li>
  <li><a href="#M000382">attr_reader?</a></li>
  <li><a href="#M000373">attr_setter</a></li>
  <li><a href="#M000376">attr_switcher</a></li>
  <li><a href="#M000383">attr_tester</a></li>
  <li><a href="#M000377">attr_toggler</a></li>
  <li><a href="#M000371">attr_validator</a></li>
  <li><a href="#M000387">attr_writer!</a></li>
  <li><a href="#M000397">class_extension</a></li>
  <li><a href="#M000366">class_inherit</a></li>
  <li><a href="#M000365">class_methods</a></li>
  <li><a href="#M000363">classified_attributes</a></li>
  <li><a href="#M000369">define_dependency</a></li>
  <li><a href="#M000367">depend</a></li>
  <li><a href="#M000368">dependencies</a></li>
  <li><a href="#M000359">heritage</a></li>
  <li><a href="#M000394">include_as</a></li>
  <li><a href="#M000390">instance_method!</a></li>
  <li><a href="#M000370">memoize</a></li>
  <li><a href="#M000391">method_overloads</a></li>
  <li><a href="#M000393">method_space</a></li>
  <li><a href="#M000392">overload</a></li>
  <li><a href="#M000389">setting</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div class="method">
  <div class="title">
    <a name="M000398"></a><b>append_features</b>(mod)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000398_source')" id="l_M000398_source">show source</a> ]</p>
  <div id="M000398_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/class_extension.rb, line 85</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">append_features</span>(<span class="ruby-identifier">mod</span>)
        <span class="ruby-identifier">append_features_without_class_extension</span>(<span class="ruby-identifier">mod</span>)
      <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000395"></a><b>Equatable</b>(*accessors)
  </div>
  <div class="description">
  <p>
This function provided a &quot;shortcut&quot; for creating the identity
method based on given accessors and returns the <a
href="Module.html#M000395">Equatable</a> module for inclusion.
</p>
<pre>
 include Equatable(:a, :b)
</pre>
<p>
is equivalent to including a module containing:
</p>
<pre>
  def ==(other)
    self.a == other.a &amp;&amp; self.b == other.b
  end

  def eql?(other)
    self.a.eql?(other.a) &amp;&amp; self.b.eql?(other.b)
  end

  def hash()
    self.a.hash ^ self.b.hash
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000395_source')" id="l_M000395_source">show source</a> ]</p>
  <div id="M000395_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/equatable.rb, line 115</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Equatable</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">accessors</span>)
    <span class="ruby-constant">Equatable</span>.<span class="ruby-identifier">identify</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">accessors</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000378"></a><b>alias_accessor!</b>(*args)
  </div>
  <div class="description">
  <p>
Create aliases for flag accessors.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000379">alias_switcher</a>
  <a href="Module.html#M000380">alias_toggler</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show source</a> ]</p>
  <div id="M000378_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 117</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_accessor!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}?&quot;</span>, <span class="ruby-node">&quot;#{orig}?&quot;</span>)
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}!&quot;</span>, <span class="ruby-node">&quot;#{orig}!&quot;</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000384"></a><b>alias_reader!</b>(*args)
  </div>
  <div class="description">
  <p>
Create aliases for flag reader.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000385">alias_reader?</a>
  <a href="Module.html#M000386">alias_tester</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000384_source')" id="l_M000384_source">show source</a> ]</p>
  <div id="M000384_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 159</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_reader!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}?&quot;</span>, <span class="ruby-node">&quot;#{orig}?&quot;</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000385"></a><b>alias_reader?</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for alias_reader!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000374"></a><b>alias_setter</b>(*args)
  </div>
  <div class="description">
  <p>
Alias an accessor. This create an alias for both a reader and a writer.
</p>
<pre>
  class X
    attr_accessor :a
    alias_accessor :b, :a
  end

  x = X.new
  x.b = 1
  x.a        #=&gt; 1

 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000374_source')" id="l_M000374_source">show source</a> ]</p>
  <div id="M000374_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 81</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_setter</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">orig</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000379"></a><b>alias_switcher</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for alias_accessor!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000386"></a><b>alias_tester</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for alias_reader!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000380"></a><b>alias_toggler</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for alias_accessor!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000372"></a><b>alias_validator</b>(*args)
  </div>
  <div class="description">
  <p>
Create aliases for validators.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000372_source')" id="l_M000372_source">show source</a> ]</p>
  <div id="M000372_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 24</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_validator</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-comment cmt">#alias_method(name, orig)</span>
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}=&quot;</span>, <span class="ruby-node">&quot;#{orig}=&quot;</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000388"></a><b>alias_writer!</b>(*args)
  </div>
  <div class="description">
  <p>
Create aliases for flag writer.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000388_source')" id="l_M000388_source">show source</a> ]</p>
  <div id="M000388_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 200</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_writer!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}!&quot;</span>, <span class="ruby-node">&quot;#{orig}!&quot;</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000360"></a><b>ann</b>( ref, keys_or_class=nil, keys=nil )
  </div>
  <div class="description">
  <p>
<a href="Set.html">Set</a> or read <a
href="Module.html#M000358">annotations</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000360_source')" id="l_M000360_source">show source</a> ]</p>
  <div id="M000360_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 121</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ann</span>( <span class="ruby-identifier">ref</span>, <span class="ruby-identifier">keys_or_class</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">keys</span>=<span class="ruby-keyword kw">nil</span> )
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">heritage</span>(<span class="ruby-identifier">ref</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">keys_or_class</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">keys</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Class</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">keys_or_class</span>
      <span class="ruby-identifier">keys</span> <span class="ruby-operator">||=</span> {}
      <span class="ruby-identifier">keys</span>[<span class="ruby-identifier">:class</span>] = <span class="ruby-identifier">keys_or_class</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">keys_or_class</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">keys</span>
      <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>] <span class="ruby-operator">||=</span> {}
      <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>].<span class="ruby-identifier">update</span>(<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">rekey</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">heritage</span>(<span class="ruby-identifier">ref</span>)[<span class="ruby-identifier">key</span>]
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000361"></a><b>ann!</b>( ref, keys_or_class=nil, keys=nil )
  </div>
  <div class="description">
  <p>
To change an annotation&#8216;s value in place for a given class or module
it first must be duplicated, otherwise the change may effect <a
href="Module.html#M000358">annotations</a> in the class or module&#8216;s
ancestors.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000361_source')" id="l_M000361_source">show source</a> ]</p>
  <div id="M000361_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 145</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ann!</span>( <span class="ruby-identifier">ref</span>, <span class="ruby-identifier">keys_or_class</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">keys</span>=<span class="ruby-keyword kw">nil</span> )
    <span class="ruby-comment cmt">#return heritage(ref) unless keys_or_class or keys</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">keys_or_class</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">keys</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Class</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">keys_or_class</span>
      <span class="ruby-identifier">keys</span> <span class="ruby-operator">||=</span> {}
      <span class="ruby-identifier">keys</span>[<span class="ruby-identifier">:class</span>] = <span class="ruby-identifier">keys_or_class</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">keys_or_class</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">keys</span>
      <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>] <span class="ruby-operator">||=</span> {}
      <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>].<span class="ruby-identifier">update</span>(<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">rekey</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">heritage</span>(<span class="ruby-identifier">ref</span>)[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">dup</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000358"></a><b>annotations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000358_source')" id="l_M000358_source">show source</a> ]</p>
  <div id="M000358_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 106</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">annotations</span>
    <span class="ruby-comment cmt">#$annotations[self]</span>
    <span class="ruby-ivar">@annotations</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000399"></a><b>append_features</b>(mod)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000399_source')" id="l_M000399_source">show source</a> ]</p>
  <div id="M000399_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/class_extension.rb, line 95</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_features</span>(<span class="ruby-identifier">mod</span>)
    <span class="ruby-identifier">append_features_without_class_extension</span>(<span class="ruby-identifier">mod</span>)
    <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-identifier">class_extension</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_of?</span> <span class="ruby-constant">Module</span>
      <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:class_extension</span>).<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:include</span>, <span class="ruby-identifier">class_extension</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000364"></a><b>append_features</b>( base )
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000396">append_features_without_class_extension</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000364_source')" id="l_M000364_source">show source</a> ]</p>
  <div id="M000364_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/classmethods.rb, line 163</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_features</span>( <span class="ruby-identifier">base</span> )
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">append_features_without_classmethods</span>( <span class="ruby-identifier">base</span> )
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">const_defined?</span>( <span class="ruby-identifier">:ClassMethods</span> )
      <span class="ruby-identifier">base</span>.<span class="ruby-identifier">extend</span>( <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span> )
      <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">is_a?</span>( <span class="ruby-constant">Class</span> )
        <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">const_defined?</span>( <span class="ruby-identifier">:ClassMethods</span> )
          <span class="ruby-identifier">base</span>.<span class="ruby-identifier">const_set</span>( <span class="ruby-identifier">:ClassMethods</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> )
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">my</span> = <span class="ruby-keyword kw">self</span>
        <span class="ruby-identifier">base</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
          <span class="ruby-identifier">include</span> <span class="ruby-identifier">my</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000396"></a><b>append_features_without_class_extension</b>( base )
  </div>
  <div class="description">
  <p>
Alias for <a href="Module.html#M000364">append_features</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000362"></a><b>attr</b>( *args )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000362_source')" id="l_M000362_source">show source</a> ]</p>
  <div id="M000362_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 220</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten!</span>
    <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TrueClass</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>
      <span class="ruby-identifier">attr_accessor</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
    <span class="ruby-keyword kw">when</span> <span class="ruby-constant">FalseClass</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>
      <span class="ruby-identifier">attr_reader</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">attr_reader</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000375"></a><b>attr_accessor!</b>(*args)
  </div>
  <div class="description">
  <p>
Create a toggle attribute. This creates two methods for each given name.
One is a form of tester and the other is used to toggle the value.
</p>
<pre>
  attr_accessor! :a
</pre>
<p>
is equivalent to
</p>
<pre>
  def a?
    @a
  end

  def a!(value=true)
    @a = value
    self
  end

 CREDIT: Trans
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000376">attr_switcher</a>
  <a href="Module.html#M000377">attr_toggler</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000375_source')" id="l_M000375_source">show source</a> ]</p>
  <div id="M000375_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 107</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_accessor!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">attr_reader!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">attr_writer!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000381"></a><b>attr_reader!</b>(*args)
  </div>
  <div class="description">
  <p>
Create an tester attribute. This creates a single method used to test the
attribute for truth.
</p>
<pre>
  attr_reader! :a
</pre>
<p>
is equivalent to
</p>
<pre>
  def a?
    @a ? true : @a
  end
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000382">attr_reader?</a>
  <a href="Module.html#M000383">attr_tester</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000381_source')" id="l_M000381_source">show source</a> ]</p>
  <div id="M000381_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 139</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_reader!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">code</span>, <span class="ruby-identifier">made</span> = <span class="ruby-value str">''</span>, []
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">code</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%{
        def #{a}?(truth=nil)
          @#{a} ? truth || @#{a} : @#{a}
        end
      }</span>
      <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{a}?&quot;</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">module_eval</span> <span class="ruby-identifier">code</span>
    <span class="ruby-identifier">made</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000382"></a><b>attr_reader?</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for attr_reader!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000373"></a><b>attr_setter</b>(*args)
  </div>
  <div class="description">
  <p>
Create an attribute method for both getting and <a
href="Module.html#M000389">setting</a> an instance variable.
</p>
<pre>
  attr_setter :a
</pre>
<p>
_is equivalent to_
</p>
<pre>
  def a(*args)
    if args.size &gt; 0
      @a = args[0]
      self
    else
      @a
    end
  end

 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000373_source')" id="l_M000373_source">show source</a> ]</p>
  <div id="M000373_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 53</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_setter</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">code</span>, <span class="ruby-identifier">made</span> = <span class="ruby-value str">''</span>, []
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">code</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%{
        def #{a}(*args)
          args.size &gt; 0 ? ( @#{a}=args[0] ; self ) : @#{a}
        end
      }</span>
      <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{a}&quot;</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">module_eval</span> <span class="ruby-identifier">code</span>
    <span class="ruby-identifier">made</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000376"></a><b>attr_switcher</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for attr_accessor!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000383"></a><b>attr_tester</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for attr_reader!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000377"></a><b>attr_toggler</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for attr_accessor!
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000371"></a><b>attr_validator</b>(*symbols, &amp;validator)
  </div>
  <div class="description">
  <p>
Like attr_writer, but the writer method validates the <a
href="Module.html#M000389">setting</a> against the given block.
</p>
<pre>
  CREDIT: ?
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000371_source')" id="l_M000371_source">show source</a> ]</p>
  <div id="M000371_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_validator</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">symbols</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">validator</span>)
    <span class="ruby-identifier">made</span> = []
    <span class="ruby-identifier">symbols</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">symbol</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">define_method</span> <span class="ruby-node">&quot;#{symbol}=&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">validator</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">val</span>)
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Invalid value provided for #{symbol}&quot;</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{symbol}&quot;</span>, <span class="ruby-identifier">val</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{symbol}=&quot;</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">made</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000387"></a><b>attr_writer!</b>(*args)
  </div>
  <div class="description">
  <p>
Create a flaggable attribute. This creates a single methods used to set an
attribute to &quot;true&quot;.
</p>
<pre>
  attr_writer! :a
</pre>
<p>
is equivalent to
</p>
<pre>
  def a!(value=true)
    @a = value
    self
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000387_source')" id="l_M000387_source">show source</a> ]</p>
  <div id="M000387_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/attr.rb, line 181</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_writer!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">code</span>, <span class="ruby-identifier">made</span> = <span class="ruby-value str">''</span>, []
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">code</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%{
        def #{a}!(value=true)
          @#{a} = value
          self
        end
      }</span>
      <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{a}!&quot;</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">module_eval</span> <span class="ruby-identifier">code</span>
    <span class="ruby-identifier">made</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000366"></a><b>class_inherit</b>( &amp;yld )
  </div>
  <div class="description">
  <p>
Alias for <a href="Module.html#M000365">class_methods</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000365"></a><b>class_methods</b>( &amp;yld )
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Module.html#M000366">class_inherit</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000365_source')" id="l_M000365_source">show source</a> ]</p>
  <div id="M000365_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/classmethods.rb, line 180</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_methods</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span> )
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">const_defined?</span>( <span class="ruby-identifier">:ClassMethods</span> )
      <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span>.<span class="ruby-identifier">class_eval</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span> )
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">const_set</span>( <span class="ruby-identifier">:ClassMethods</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span> ) )
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">extend</span>( <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span> )
    <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000363"></a><b>classified_attributes</b>()
  </div>
  <div class="description">
  <p>
Return list of attributes that have a :class annotation.
</p>
<pre>
  class MyClass
    attr_accessor :test
    attr_accessor :name, String, :doc =&gt; 'Hello'
    attr_accessor :age, Fixnum
  end

  MyClass.instance_attributes # =&gt; [:test, :name, :age, :body]
  MyClass.classified_attributes # =&gt; [:name, :age]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000363_source')" id="l_M000363_source">show source</a> ]</p>
  <div id="M000363_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 293</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">classified_attributes</span>
    <span class="ruby-identifier">instance_attributes</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ann</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">:class</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000369"></a><b>define_dependency</b>( name, *deps )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000369_source')" id="l_M000369_source">show source</a> ]</p>
  <div id="M000369_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/dependency.rb, line 120</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">define_dependency</span>( <span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">deps</span> )
    <span class="ruby-ivar">@dependency</span> <span class="ruby-operator">||=</span> {}
    <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@dependency</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
      <span class="ruby-ivar">@dependency</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">deps</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-ivar">@dependency</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">deps</span>
      <span class="ruby-identifier">deplist</span> = <span class="ruby-identifier">lambda</span>{ <span class="ruby-identifier">dependencies</span>(<span class="ruby-identifier">name</span>) }
      <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}:execute&quot;</span>,<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
        <span class="ruby-comment cmt"># run dependencies</span>
        <span class="ruby-identifier">deplist</span>.<span class="ruby-identifier">call</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;#{d}:execute&quot;</span>)
            <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{d}:execute&quot;</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>) <span class="ruby-comment cmt">#,&amp;b)</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">send</span>(<span class="ruby-identifier">d</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>) <span class="ruby-comment cmt">#,&amp;b)</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-comment cmt"># run core method</span>
        <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{name}:execute&quot;</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>) <span class="ruby-comment cmt">#,&amp;b)</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000367"></a><b>depend</b>( name_and_deps=nil )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000367_source')" id="l_M000367_source">show source</a> ]</p>
  <div id="M000367_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/dependency.rb, line 90</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">depend</span>( <span class="ruby-identifier">name_and_deps</span>=<span class="ruby-keyword kw">nil</span> )
    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">name_and_deps</span>
      <span class="ruby-identifier">name_and_deps</span>.<span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">deps</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">deps</span> = [<span class="ruby-identifier">deps</span>].<span class="ruby-identifier">flatten</span>
        <span class="ruby-identifier">define_dependency</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">deps</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name_and_deps</span>
      <span class="ruby-ivar">@dependency</span> <span class="ruby-operator">||=</span> {}
      <span class="ruby-ivar">@dependency</span>[<span class="ruby-identifier">name_and_deps</span>.<span class="ruby-identifier">to_sym</span>]
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-ivar">@dependency</span> <span class="ruby-operator">||=</span> {}
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000368"></a><b>dependencies</b>(name, build=[])
  </div>
  <div class="description">
  <p>
Compile list of all unique prerequisite calls.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000368_source')" id="l_M000368_source">show source</a> ]</p>
  <div id="M000368_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/dependency.rb, line 106</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dependencies</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">build</span>=[])
    <span class="ruby-ivar">@dependency</span> <span class="ruby-operator">||=</span> {}
    <span class="ruby-identifier">deps</span> = <span class="ruby-ivar">@dependency</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">build</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">deps</span>
    <span class="ruby-identifier">deps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">build</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">dep</span>)
      <span class="ruby-identifier">dependencies</span>(<span class="ruby-identifier">dep</span>,<span class="ruby-identifier">build</span>)
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">build</span>.<span class="ruby-identifier">uniq!</span>
    <span class="ruby-identifier">build</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000359"></a><b>heritage</b>(ref)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000359_source')" id="l_M000359_source">show source</a> ]</p>
  <div id="M000359_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/annotations.rb, line 111</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">heritage</span>(<span class="ruby-identifier">ref</span>)
    <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">inject</span>({}) { <span class="ruby-operator">|</span><span class="ruby-identifier">memo</span>, <span class="ruby-identifier">ancestor</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">ancestor</span>.<span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>] <span class="ruby-operator">||=</span> {}
      <span class="ruby-identifier">ancestor</span>.<span class="ruby-identifier">annotations</span>[<span class="ruby-identifier">ref</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">memo</span>
    }
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000394"></a><b>include_as</b>(h)
  </div>
  <div class="description">
  <p>
Include a module via a specified space.
</p>
<pre>
  module T
    def t ; &quot;HERE&quot; ; end
  end

  class X
    include_as :test =&gt; T
    def t ; test.t ; end
  end

  X.new.t  #=&gt; &quot;HERE&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000394_source')" id="l_M000394_source">show source</a> ]</p>
  <div id="M000394_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/methodspace.rb, line 103</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include_as</span>(<span class="ruby-identifier">h</span>)
    <span class="ruby-identifier">h</span>.<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span><span class="ruby-operator">|</span> <span class="ruby-identifier">method_space</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span>) }
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000390"></a><b>instance_method!</b>(s)
  </div>
  <div class="description">
  <p>
Easy access to method as objects, and they retain state!
</p>
<pre>
  module K
    def hello
      puts &quot;Hello World!&quot;
    end
  end
  p K.instance_method!(:hello)   #=&gt; &lt;UnboundMethod: #hello&gt;
</pre>
<p>
NOTE: This is limited to the scope of the current module/class.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000390_source')" id="l_M000390_source">show source</a> ]</p>
  <div id="M000390_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/1stclassmethod.rb, line 134</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instance_method!</span>(<span class="ruby-identifier">s</span>)
    <span class="ruby-comment cmt">#( @@__instance_methods__ ||= {} )[s] ||= instance_method(s)  # TODO when fixed</span>
    ( <span class="ruby-ivar">@__instance_methods__</span> <span class="ruby-operator">||=</span> {} )[<span class="ruby-identifier">s</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">s</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000370"></a><b>memoize</b>(*meths)
  </div>
  <div class="description">
  <p>
Directive for making your functions faster by trading space for time. When
you &quot;<a href="Module.html#M000370">memoize</a>&quot; a method/function
its results are cached so that later calls with the same arguments returns
results in the cache instead of recalculating them.
</p>
<pre>
  class T
    def initialize(a)
      @a = a
    end
    def a
      &quot;#{@a ^ 3 + 4}&quot;
    end
    memoize :a
  end

  t = T.new
  t.a.__id__ == t.a.__id__  #=&gt; true
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000370_source')" id="l_M000370_source">show source</a> ]</p>
  <div id="M000370_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/memoize.rb, line 61</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">memoize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">meths</span>)
    <span class="ruby-ivar">@_MEMOIZE_CACHE</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">meths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">mc</span> = <span class="ruby-ivar">@_MEMOIZE_CACHE</span>[<span class="ruby-identifier">meth</span>] = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">old</span> = <span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">meth</span>)
      <span class="ruby-identifier">new</span> = <span class="ruby-identifier">proc</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mc</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">args</span>
          <span class="ruby-identifier">mc</span>[<span class="ruby-identifier">args</span>]
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">mc</span>[<span class="ruby-identifier">args</span>] = <span class="ruby-identifier">old</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">send</span>(<span class="ruby-identifier">:define_method</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">new</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000391"></a><b>method_overloads</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000391_source')" id="l_M000391_source">show source</a> ]</p>
  <div id="M000391_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/overload.rb, line 25</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_overloads</span>
    <span class="ruby-ivar">@method_overloads</span> <span class="ruby-operator">||=</span> {}
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000393"></a><b>method_space</b>(name, mod=nil, &amp;blk)
  </div>
  <div class="description">
  <p>
Define a simple method namespace.
</p>
<pre>
  class A
    attr_writer :x
    method_space :inside do
      def x; @x; end
    end
  end

  a = A.new
  a.x = 10
  a.inside.x #=&gt; 10
  a.x  # no method error
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000393_source')" id="l_M000393_source">show source</a> ]</p>
  <div id="M000393_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/methodspace.rb, line 48</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_space</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)

    <span class="ruby-comment cmt"># If block is given then create a module, otherwise</span>
    <span class="ruby-comment cmt"># get the name of the module.</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>
      <span class="ruby-identifier">mod</span>  = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">name</span>
        <span class="ruby-identifier">mod</span> = <span class="ruby-identifier">name</span>
        <span class="ruby-identifier">name</span> = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">basename</span>.<span class="ruby-identifier">downcase</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">mod</span>  = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-comment cmt"># Include the module. This is neccessary, otherwise</span>
    <span class="ruby-comment cmt"># Ruby won't let us bind the instance methods.</span>
    <span class="ruby-identifier">include</span> <span class="ruby-identifier">mod</span>

    <span class="ruby-comment cmt"># Save the instance methods of the module and</span>
    <span class="ruby-comment cmt"># replace them with a &quot;transparent&quot; version.</span>
    <span class="ruby-identifier">methods</span> = {}
    <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_methods</span>(<span class="ruby-keyword kw">false</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">methods</span>[<span class="ruby-identifier">m</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">m</span>)
      <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword kw">do</span>
        <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">m</span>) <span class="ruby-keyword kw">do</span>
          <span class="ruby-keyword kw">super</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-comment cmt"># Add a method for the namespace that delegates</span>
    <span class="ruby-comment cmt"># via the Functor to the saved instance methods.</span>
    <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span>
      <span class="ruby-identifier">mtab</span> = <span class="ruby-identifier">methods</span>
      <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">mtab</span>[<span class="ruby-identifier">op</span>].<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000392"></a><b>overload</b>( name, *signiture, &amp;block )
  </div>
  <div class="description">
  <p>
Overload methods.
</p>
<pre>
  class X
    def x
      &quot;hello&quot;
    end

    overload :x, Integer do |i|
      i
    end

    overload :x, String, String do |s1, s2|
      [s1, s2]
    end
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000392_source')" id="l_M000392_source">show source</a> ]</p>
  <div id="M000392_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/overload.rb, line 45</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">overload</span>( <span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">signiture</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">signiture</span>.<span class="ruby-identifier">all?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">Class</span>)} 

    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_overloads</span>.<span class="ruby-identifier">key?</span>( <span class="ruby-identifier">name</span> )
      <span class="ruby-identifier">method_overloads</span>[<span class="ruby-identifier">name</span>][<span class="ruby-identifier">signiture</span>] = <span class="ruby-identifier">block</span>

    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">method_overloads</span>[<span class="ruby-identifier">name</span>] = {}
      <span class="ruby-identifier">method_overloads</span>[<span class="ruby-identifier">name</span>][<span class="ruby-identifier">signiture</span>] = <span class="ruby-identifier">block</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_defined?</span>( <span class="ruby-identifier">name</span> )
        <span class="ruby-comment cmt">#method_overloads[name][nil] = instance_method( name ) #true</span>
        <span class="ruby-identifier">alias_method</span>( <span class="ruby-node">&quot;#{name}Generic&quot;</span>, <span class="ruby-identifier">name</span> )
        <span class="ruby-identifier">has_generic</span> = <span class="ruby-keyword kw">true</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">has_generic</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-identifier">define_method</span>( <span class="ruby-identifier">name</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">ovr</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">method_overloads</span>[<span class="ruby-node">&quot;#{name}&quot;</span>.<span class="ruby-identifier">to_sym</span>]
        <span class="ruby-identifier">sig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">class</span> }
        <span class="ruby-identifier">hit</span> = <span class="ruby-keyword kw">nil</span>
        <span class="ruby-identifier">faces</span> = <span class="ruby-identifier">ovr</span>.<span class="ruby-identifier">keys</span> <span class="ruby-comment cmt">#.sort { |a,b| b.size &lt;=&gt; a.size }</span>
        <span class="ruby-identifier">faces</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cmp</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">cmp</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">sig</span>.<span class="ruby-identifier">size</span>
          <span class="ruby-keyword kw">if</span> (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">cmp</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">all?</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cmp</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">sig</span>[<span class="ruby-identifier">i</span>] }
            <span class="ruby-keyword kw">break</span> <span class="ruby-identifier">hit</span> = <span class="ruby-identifier">cmp</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span> 
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hit</span>
          <span class="ruby-identifier">ovr</span>[<span class="ruby-identifier">hit</span>].<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_generic</span> <span class="ruby-comment cmt">#ovr[nil]</span>
            <span class="ruby-identifier">send</span>( <span class="ruby-node">&quot;#{name}Generic&quot;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
            <span class="ruby-comment cmt">#ovr[nil].bind(self).call(*args)</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>

      <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">end</span>

  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000389"></a><b>setting</b>(sym, options = {})
  </div>
  <div class="description">
  <p>
Defines a configuration <a href="Module.html#M000389">setting</a> for the
enclosing class.
</p>
<h3>Example</h3>
<p>
class Compiler
</p>
<pre>
  setting :template_root, :default =&gt; 'src/template', :doc =&gt; 'The template root dir'
</pre>
<p>
end
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000389_source')" id="l_M000389_source">show source</a> ]</p>
  <div id="M000389_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/settings.rb, line 233</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setting</span>(<span class="ruby-identifier">sym</span>, <span class="ruby-identifier">options</span> = {})
    <span class="ruby-constant">Settings</span>.<span class="ruby-identifier">add_setting</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">sym</span>, <span class="ruby-identifier">options</span>)

    <span class="ruby-identifier">module_eval</span> <span class="ruby-node">%{
      def self.#{sym}
        Settings[#{self}][:#{sym}].value
      end

      def self.#{sym}=(obj)
        Settings.setting #{self}, :#{sym}, :value =&gt; obj
      end
    }</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Private Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000397"></a><b>class_extension</b>(&amp;block)
  </div>
  <div class="description">
  <h1><a href="Module.html#M000397">class_extension</a></h1>
<p>
Normally when including modules, class/module methods are not extended. To
achieve this behavior requires some clever Ruby Karate. Instead <a
href="Module.html#M000397">class_extension</a> provides an easy to use and
clean solution. Simply place the extending class methods in a block of the
special module method <a href="Module.html#M000397">class_extension</a>.
</p>
<pre>
  module Mix
    def inst_meth
      puts 'inst_meth'
    end

    class_extension do
      def class_meth
        &quot;Class Method!&quot;
      end
    end
  end

  class X
    include Mix
  end

  X.class_meth  #=&gt; &quot;Class Method!&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000397_source')" id="l_M000397_source">show source</a> ]</p>
  <div id="M000397_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/class_extension.rb, line 83</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_extension</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-ivar">@class_extension</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">append_features</span>(<span class="ruby-identifier">mod</span>)
        <span class="ruby-identifier">append_features_without_class_extension</span>(<span class="ruby-identifier">mod</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-ivar">@class_extension</span>.<span class="ruby-identifier">module_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-ivar">@class_extension</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>