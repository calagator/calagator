# == Schema Information
# Schema version: 20110604174521
#
# Table name: events
#
#  id              :integer         not null, primary key
#  title           :string(255)
#  description     :text
#  start_time      :datetime
#  url             :string(255)
#  created_at      :datetime
#  updated_at      :datetime
#  venue_id        :integer
#  source_id       :integer
#  duplicate_of_id :integer
#  end_time        :datetime
#  version         :integer
#  rrule           :string(255)
#  venue_details   :text
#

# Read about fixtures at http://ar.rubyonrails.org/classes/Fixtures.html
<% n = 1 %>

<% def dbtime(input); input.to_time.utc.to_s(:db); end %>

calagator_codesprint:
  id: <%=n+=1%>
  title: Calagator CodeSprint
  description: Join us to work on Calagator, yay!
  start_time: 2008-01-19 12:16:10
  venue_id: 1
  url: http://groups.google.com/group/pdx-tech-calendar

tomorrow:
  id: <%=n+=1%>
  title: Calagator Ski Trip
  description: "It's only a day away."
  start_time: <%= dbtime(Date.today + 10.hours) %>
  venue_id: 1
  url: http://www.allmusicals.com/lyrics/annie/tomorrow.htm

day_after_tomorrow:
  id: <%=n+=1%>
  title: Rain
  description: It's probably going to rain. Enjoy the weather while it's nice.
  start_time: <%= dbtime(Date.tomorrow + 10.hours) %>
  venue_id: 1
  url: http://www.imdb.com/title/tt0319262/

old_event:
  id: <%= n+=1 %>
  title: Old Event
  description: Already happened.
  start_time: <%= dbtime(Date.yesterday) %>
  end_time: <%= dbtime(Date.yesterday + 12.hours) %>
  venue_id: 1
  url: http://foo.com/event

ongoing_event:
  id: <%= n+=1 %>
  title: Ongoing Event
  description: "It's going on all week"
  start_time: <%= dbtime(Date.yesterday + 1.hour) %>
  end_time: <%= dbtime(Date.tomorrow + 24.hours) %>
  venue_id: 1
  url: http://foo.com/ongoing_event

duplicate_event:
  id: <%=n+=1%>
  title: Web 2.0 Conference
  start_time: 2007-10-05 07:00:00 Z
  venue_id: 2
  url: http://www.web2con.com/

<% 2.times do |i| %>
old_duplicate_<%=i%>:
  id: <%=n+=1%>
  title: Web 1.0 Conference
  start_time: <%= dbtime(Date.today - 7.years) %>
  venue_id: 2
  url: http://www.web1con.com/
<% end %>

<% 2.times do |i| %>
old_duplicate_<%=i%>:
  id: <%=n+=1%>
  title: Web 3.0 Conference
  start_time: <%= dbtime(Date.today + 1.year) %>
  venue_id: 2
  url: http://www.web3con.com/
<% end %>

  # many future events
  <%
  topics = ['Ruby','Python','Perl','PHP','.NET','Flickr','Mac','Linux','Windows ME','BeOS','Calagator']
  group_types = ['Users Group','Brigade','Battalion','Support Group','Hackers','Anonymous']
  events = ['Code Sprint','Flash Mob','Camp','Meetup','Luncheon','Breakfast','Dinner','Retreat','Ski Trip']

  40.times do
  %>
future_<%=n+=1%>:
  id: <%=n%>
  title: <%= topics[rand(topics.size)] %> <%= group_types[rand(group_types.size)] %> <%= events[rand(events.size)] %> *
  description: An autogenerated event.
  start_time: <%= (n-99-rand(2)).days.from_now.to_date %> <%=rand(24)%>:<%=rand(60)%>:00
  venue_id: <%= rand(20)+100 %>
  url: http://calagator.org
  updated_at: <%= (n-99-rand(2)).days.from_now.to_date %> <%=rand(24)%>:<%=rand(60)%>:00
  <% end %>
