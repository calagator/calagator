<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Module: Enumerable</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Module</span><br />Enumerable</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../files/lib/facets/ruby_rb.html">lib/facets/ruby.rb</a>
<a href="../files/lib/facets/to_hash_rb.html">lib/facets/to_hash.rb</a>
<a href="../files/lib/facets/enumerable/cluster_by_rb.html">lib/facets/enumerable/cluster_by.rb</a>
<a href="../files/lib/facets/enumerable/sum_rb.html">lib/facets/enumerable/sum.rb</a>
<a href="../files/lib/facets/enumerable/mode_rb.html">lib/facets/enumerable/mode.rb</a>
<a href="../files/lib/facets/enumerable/occur_rb.html">lib/facets/enumerable/occur.rb</a>
<a href="../files/lib/facets/enumerable/collect_rb.html">lib/facets/enumerable/collect.rb</a>
<a href="../files/lib/facets/enumerable/divide_rb.html">lib/facets/enumerable/divide.rb</a>
<a href="../files/lib/facets/enumerable/inject_rb.html">lib/facets/enumerable/inject.rb</a>
<a href="../files/lib/facets/enumerable/duplicates_rb.html">lib/facets/enumerable/duplicates.rb</a>
<a href="../files/lib/facets/enumerable/uniq_by_rb.html">lib/facets/enumerable/uniq_by.rb</a>
<a href="../files/lib/facets/enumerable/accumulate_rb.html">lib/facets/enumerable/accumulate.rb</a>
<a href="../files/lib/facets/enumerable/mash_rb.html">lib/facets/enumerable/mash.rb</a>
<a href="../files/lib/facets/enumerable/modulate_rb.html">lib/facets/enumerable/modulate.rb</a>
<a href="../files/lib/facets/enumerable/split_rb.html">lib/facets/enumerable/split.rb</a>
<a href="../files/lib/facets/enumerable/map_send_rb.html">lib/facets/enumerable/map_send.rb</a>
<a href="../files/lib/facets/enumerable/probability_rb.html">lib/facets/enumerable/probability.rb</a>
<a href="../files/lib/facets/enumerable/each_by_rb.html">lib/facets/enumerable/each_by.rb</a>
        </td>
      </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000406">accumulate</a></li>
  <li><a href="#M000393">cluster_by</a></li>
  <li><a href="#M000397">collect_with_index</a></li>
  <li><a href="#M000416">commonality</a></li>
  <li><a href="#M000400">compact_collect</a></li>
  <li><a href="#M000399">compact_map</a></li>
  <li><a href="#M000388">count</a></li>
  <li><a href="#M000401">divide</a></li>
  <li><a href="#M000404">duplicates</a></li>
  <li><a href="#M000417">each_by</a></li>
  <li><a href="#M000413">entropy</a></li>
  <li><a href="#M000415">frequency</a></li>
  <li><a href="#M000408">graph</a></li>
  <li><a href="#M000391">group_by</a></li>
  <li><a href="#M000414">ideal_entropy</a></li>
  <li><a href="#M000402">inject!</a></li>
  <li><a href="#M000411">map_send</a></li>
  <li><a href="#M000398">map_with_index</a></li>
  <li><a href="#M000407">mash</a></li>
  <li><a href="#M000395">mode</a></li>
  <li><a href="#M000409">modulate</a></li>
  <li><a href="#M000390">none?</a></li>
  <li><a href="#M000403">nonuniq</a></li>
  <li><a href="#M000396">occur</a></li>
  <li><a href="#M000389">one?</a></li>
  <li><a href="#M000412">probability</a></li>
  <li><a href="#M000410">split</a></li>
  <li><a href="#M000394">sum</a></li>
  <li><a href="#M000392">to_h</a></li>
  <li><a href="#M000405">uniq_by</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000406"></a><b>accumulate</b>()
  </div>
  <div class="description">
  <p>
Accumulate a set of a set.
</p>
<p>
For example, in an ORM design if Group has_many User then
</p>
<pre>
  groups.accumulate.users
</pre>
<p>
will return a list of users from all groups.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000406_source')" id="l_M000406_source">show source</a> ]</p>
  <div id="M000406_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/accumulate.rb, line 14</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accumulate</span>
    <span class="ruby-ivar">@_accumulate</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">inject</span>([]) { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }.<span class="ruby-identifier">flatten</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000393"></a><b>cluster_by</b>(&amp;b)
  </div>
  <div class="description">
  <p>
Similar to <a href="Enumerable.html#M000391">group_by</a> but returns an
array of the groups. Returned elements are sorted by block.
</p>
<pre>
   %w{this is a test}.cluster_by {|x| x[0]}
</pre>
<p>
<em>produces</em>
</p>
<pre>
   [ ['a'], ['is'], ['this', 'test'] ]

 CREDIT Erik Veenstra
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000393_source')" id="l_M000393_source">show source</a> ]</p>
  <div id="M000393_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/cluster_by.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cluster_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">transpose</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">||</span> []   <span class="ruby-comment cmt"># group_by(&amp;b).values ?</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000397"></a><b>collect_with_index</b>() {|self[i], i| ...}
  </div>
  <div class="description">
  <p>
Same as collect but with an iteration counter.
</p>
<pre>
  a = [1,2,3].collect_with_index { |e,i| e*i }
  a  #=&gt; [0,2,6]

  CREDIT: Gavin Sinclair
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Enumerable.html#M000398">map_with_index</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000397_source')" id="l_M000397_source">show source</a> ]</p>
  <div id="M000397_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/collect.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collect_with_index</span>
    <span class="ruby-identifier">r</span> = []
    <span class="ruby-identifier">each_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">i</span>)
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">r</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000416"></a><b>commonality</b>( &amp;block )
  </div>
  <div class="description">
  <p>
Returns all items that are equal in terms of the supplied block. If no
block is given objects are considered to be equal if they return the same
value for Object#hash and if obj1 == obj2.
</p>
<pre>
  [1, 2, 2, 3, 4, 4].commonality # =&gt; { 2 =&gt; [2], 4 =&gt; [4] }

  [&quot;foo&quot;, &quot;bar&quot;, &quot;a&quot;].commonality { |str| str.length }
  # =&gt; { 3 =&gt; [&quot;foo, &quot;bar&quot;] }

  # Returns all persons that share their last name with another person.
  persons.collisions { |person| person.last_name }

  CREDIT: Florian Gross
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000416_source')" id="l_M000416_source">show source</a> ]</p>
  <div id="M000416_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/probability.rb, line 94</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commonality</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-identifier">had_no_block</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">block</span>
    <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span> }
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">item</span>)
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-comment cmt">#return had_no_block ? result.values.flatten : result</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000400"></a><b>compact_collect</b>(trash=nil, &amp;block)
  </div>
  <div class="description">
  <p>
Alias for <a href="Enumerable.html#M000399">compact_map</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000399"></a><b>compact_map</b>(trash=nil) {|*a| ...}
  </div>
  <div class="description">
  <p>
A more versitle compact method. It can be used to collect and filter items
out in one single step.
</p>
<pre>
  [1,2,3].compact_map do |n|
    n &lt; 1 ? nil : n
  end
</pre>
<p>
<em>produces</em>
</p>
<pre>
  [2,3]
</pre>
<p>
NOTE: Perhaps nicer to have as added functionality for compact.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Enumerable.html#M000400">compact_collect</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000399_source')" id="l_M000399_source">show source</a> ]</p>
  <div id="M000399_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/collect.rb, line 37</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compact_map</span>(<span class="ruby-identifier">trash</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">y</span> = []
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">y</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000388"></a><b>count</b>(*c)
  </div>
  <div class="description">
  <p>
Count the number of items in an enumerable equal (==) to the given object.
</p>
<pre>
  e = [ 'a', '1', 'a' ]
  e.count('1')    #=&gt; 1
  e.count('a')    #=&gt; 2
</pre>
<p>
Count can also handle multiple-valued blocks.
</p>
<pre>
  e = { 'a' =&gt; 2, 'a' =&gt; 2, 'b' =&gt; 1 }
  e.count('a',2)  #=&gt; 1

  CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000388_source')" id="l_M000388_source">show source</a> ]</p>
  <div id="M000388_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/ruby.rb, line 152</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">c</span>)
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">select</span>{ <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">c</span> }.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000401"></a><b>divide</b>(pattern)
  </div>
  <div class="description">
  <p>
Divide on matching pattern.
</p>
<pre>
  ['a1','b1','a2','b2'].divide(/^a/)
  =&gt; [['a1,'b1'],['a2','b2']]

 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000401_source')" id="l_M000401_source">show source</a> ]</p>
  <div id="M000401_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/divide.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">divide</span>(<span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">memo</span> = []
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">push</span> [] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pattern</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>
      <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">memo</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000404"></a><b>duplicates</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="Enumerable.html#M000403">nonuniq</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000417"></a><b>each_by</b>(steps=nil, &amp;block)
  </div>
  <div class="description">
  <p>
Iterate through slices. If slice <tt>steps</tt> is not given, the arity of
the block is used.
</p>
<pre>
  x = []
  [1,2,3,4].each_by{ |a,b| x &lt;&lt; [a,b] }
  x  #=&gt; [ [1,2], [3,4] ]

  x = []
  [1,2,3,4,5,6].each_by(3){ |a| x &lt;&lt; a }
  x  #=&gt; [ [1,2,3], [4,5,6] ]
</pre>
<p>
This is just like each_slice, except that it will check the arity of the
block. If each_slice ever suppots this this method can be deprecated.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000417_source')" id="l_M000417_source">show source</a> ]</p>
  <div id="M000417_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/each_by.rb, line 22</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_by</span>(<span class="ruby-identifier">steps</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">steps</span>
      <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">steps</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span>.<span class="ruby-identifier">abs</span>
      <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-comment cmt">#each_slice(steps) {|i| block.call(*i)}</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000413"></a><b>entropy</b>()
  </div>
  <div class="description">
  <p>
Shannon&#8216;s <a href="Enumerable.html#M000413">entropy</a> for an array
- returns the average bits per symbol required to encode the array. Lower
values mean less &quot;<a href="Enumerable.html#M000413">entropy</a>&quot;
- i.e. less unique information in the array.
</p>
<pre>
  %w{ a b c d e e e }.entropy  #=&gt;

  CREDIT: Derek
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000413_source')" id="l_M000413_source">show source</a> ]</p>
  <div id="M000413_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/probability.rb, line 44</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">entropy</span>
    <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
    <span class="ruby-identifier">probHash</span> = <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">probability</span>
    <span class="ruby-comment cmt"># h is the Shannon entropy of the array</span>
    <span class="ruby-identifier">h</span> = <span class="ruby-value">-1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">probHash</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">*</span> (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>])<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>)))
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">h</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000415"></a><b>frequency</b>()
  </div>
  <div class="description">
  <p>
Generates a hash mapping each unique symbol in the array to the absolute <a
href="Enumerable.html#M000415">frequency</a> it appears.
</p>
<pre>
 CREDIT: Brian Schr√∂der
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000415_source')" id="l_M000415_source">show source</a> ]</p>
  <div id="M000415_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/probability.rb, line 71</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">frequency</span>
    <span class="ruby-comment cmt">#probs = Hash.new(0)</span>
    <span class="ruby-comment cmt">#each do |e|</span>
    <span class="ruby-comment cmt">#  probs[e] += 1</span>
    <span class="ruby-comment cmt">#end</span>
    <span class="ruby-comment cmt">#probs</span>
    <span class="ruby-identifier">inject</span>(<span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)){<span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">v</span>]<span class="ruby-operator">+=</span><span class="ruby-value">1</span>; <span class="ruby-identifier">h</span>}
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000408"></a><b>graph</b>(&amp;yld)
  </div>
  <div class="description">
  <p>
Alias for <a href="Enumerable.html#M000407">mash</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000391"></a><b>group_by</b>( {|| ...}
  </div>
  <div class="description">
  <p>
<a href="Enumerable.html#M000391">group_by</a> is used to group items in a
collection by something they have in common. The common factor is the key
in the resulting hash, the array of like elements is the value.
</p>
<pre>
  (1..5).group_by { |n| n % 3 }
       #=&gt; { 0 =&gt; [3], 1 =&gt; [1, 4], 2 =&gt; [2,5] }

  [&quot;I had&quot;, 1, &quot;dollar and&quot;, 50, &quot;cents&quot;].group_by { |e| e.class }
       #=&gt; { String =&gt; [&quot;I had&quot;,&quot;dollar and&quot;,&quot;cents&quot;], Fixnum =&gt; [1,50] }

 CREDIT: Erik Veenstra
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000391_source')" id="l_M000391_source">show source</a> ]</p>
  <div id="M000391_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/ruby.rb, line 223</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">group_by</span> <span class="ruby-comment cmt">#:yield:</span>
      <span class="ruby-comment cmt">#h = k = e = nil</span>
      <span class="ruby-identifier">r</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">r</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-identifier">r</span>
    <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000414"></a><b>ideal_entropy</b>()
  </div>
  <div class="description">
  <p>
Returns the maximum possible Shannon <a
href="Enumerable.html#M000413">entropy</a> of the array with given size
assuming that it is an &quot;order-0&quot; source (each element is selected
independently of the next).
</p>
<pre>
  CREDIT: Derek
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000414_source')" id="l_M000414_source">show source</a> ]</p>
  <div id="M000414_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/probability.rb, line 60</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ideal_entropy</span>
    <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
    <span class="ruby-identifier">unitProb</span> = <span class="ruby-value">1.0</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span>
    (<span class="ruby-value">-1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">unitProb</span> <span class="ruby-operator">*</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">unitProb</span>)<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>))
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000402"></a><b>inject!</b>(s) {|k, i| ...}
  </div>
  <div class="description">
  <p>
A small variation of Inject that save one from having to return the
aggregating or memo argument.
</p>
<p>
Say you want to <a href="Enumerable.html#M000388">count</a> letters.
</p>
<pre>
   some_text.inject!(Hash.new(0)) {|h,l| h[l] += 1}
</pre>
<p>
vs
</p>
<pre>
   some_text.inject(Hash.new(0)) {|h,l| h[l] +=1; h}

 CREDIT: David Black
 CREDIT: Louis J Scoras
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000402_source')" id="l_M000402_source">show source</a> ]</p>
  <div id="M000402_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/inject.rb, line 17</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inject!</span>(<span class="ruby-identifier">s</span>)
    <span class="ruby-identifier">k</span> = <span class="ruby-identifier">s</span>
    <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">i</span>) }
    <span class="ruby-identifier">k</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000411"></a><b>map_send</b>(meth, *args, &amp;block)
  </div>
  <div class="description">
  <p>
Send a message to each element and collect the result.
</p>
<pre>
 CREDIT: Sean O'Halpin
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000411_source')" id="l_M000411_source">show source</a> ]</p>
  <div id="M000411_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/map_send.rb, line 7</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)}
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000398"></a><b>map_with_index</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="Enumerable.html#M000397">collect_with_index</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000407"></a><b>mash</b>(&amp;yld)
  </div>
  <div class="description">
  <p>
Like <tt>map</tt>/<tt>collect</tt>, but generates a <a
href="Hash.html">Hash</a>. The block is expected to return two values: the
key and the value for the new hash.
</p>
<pre>
  numbers  = (1..3)
  squares  = numbers.mash { |n| [n, n*n] }   # { 1=&gt;1, 2=&gt;4, 3=&gt;9 }
  sq_roots = numbers.mash { |n| [n*n, n] }   # { 1=&gt;1, 4=&gt;2, 9=&gt;3 }
</pre>
<p>
CREDIT: Trans CREDIT: Andrew Dudzik (adudzik)
</p>
<p>
NOTE: Would correlate would be better?
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Enumerable.html#M000408">graph</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000407_source')" id="l_M000407_source">show source</a> ]</p>
  <div id="M000407_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/mash.rb, line 15</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mash</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">yld</span>
      <span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">kv</span><span class="ruby-operator">|</span> <span class="ruby-comment cmt"># Used to be inject({}) do |h,kv|</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">yld</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">kv</span>]        <span class="ruby-comment cmt"># The *-op works differnt from to_a on single element hash!!!</span>
        <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">r</span>          <span class="ruby-comment cmt"># Used to be nk, nv = *yld[*kv].to_a.flatten</span>
        <span class="ruby-identifier">h</span>[<span class="ruby-identifier">nk</span>] = <span class="ruby-identifier">nv</span>
        <span class="ruby-identifier">h</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-constant">Enumerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>,<span class="ruby-identifier">:graph</span>)  <span class="ruby-comment cmt"># Used to be Hash[*self.to_a] or Hash[*self.to_a.flatten]</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000395"></a><b>mode</b>()
  </div>
  <div class="description">
  <p>
In Statistics <a href="Enumerable.html#M000395">mode</a> is the value that
occurs most frequently in a given set of data.
</p>
<pre>
 CREDIT: Trans
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000395_source')" id="l_M000395_source">show source</a> ]</p>
  <div id="M000395_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/mode.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mode</span>
    <span class="ruby-identifier">count</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)
    <span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">count</span>[<span class="ruby-identifier">x</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> }
    <span class="ruby-identifier">count</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>}.<span class="ruby-identifier">last</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000409"></a><b>modulate</b>(modulo)
  </div>
  <div class="description">
  <p>
Modulate. Divide an array into groups by modulo of the index.
</p>
<p>
[2,4,6,8].<a href="Enumerable.html#M000409">modulate</a>(2) #=&gt;
[[2,6],[4,8]]
</p>
<pre>
 CREDIT: Trans
</pre>
<p>
NOTE: Would this be better named &#8216;collate&#8217;?
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000409_source')" id="l_M000409_source">show source</a> ]</p>
  <div id="M000409_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/modulate.rb, line 11</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">modulate</span>(<span class="ruby-identifier">modulo</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">to_a</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">'bad modulo'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">r</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">modulo</span>, [])
    (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">r</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span>] <span class="ruby-operator">+=</span> [<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>]]
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">r</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000390"></a><b>none?</b>( {|e| ...}
  </div>
  <div class="description">
  <p>
Enumerable#none? is the logical opposite of the builtin method
Enumerable#any?. It returns <tt>true</tt> if and only if <em>none</em> of
the elements in the collection satisfy the predicate.
</p>
<p>
If no predicate is provided, Enumerable#none? returns <tt>true</tt> if and
only if <em>none</em> of the elements have a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].none?                      # true
  [nil].none?                   # true
  [5,8,9].none?                 # false
  (1...10).none? { |n| n &lt; 0 }  # true
  (1...10).none? { |n| n &gt; 0 }  # false

  CREDIT: Gavin Sinclair
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000390_source')" id="l_M000390_source">show source</a> ]</p>
  <div id="M000390_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/ruby.rb, line 203</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">none?</span>  <span class="ruby-comment cmt"># :yield: e</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000403"></a><b>nonuniq</b>()
  </div>
  <div class="description">
  <p>
Returns a list on non-unique,
</p>
<pre>
  [1,1,2,2,3,4,5].nonuniq  #=&gt; [1,2]

  CREDIT: Martin DeMello
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="Enumerable.html#M000404">duplicates</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000403_source')" id="l_M000403_source">show source</a> ]</p>
  <div id="M000403_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/duplicates.rb, line 9</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nonuniq</span>
    <span class="ruby-identifier">h1</span> = {}
    <span class="ruby-identifier">h2</span> = {}
    <span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">h2</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h1</span>[<span class="ruby-identifier">i</span>]
      <span class="ruby-identifier">h1</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-keyword kw">true</span>
    }
    <span class="ruby-identifier">h2</span>.<span class="ruby-identifier">keys</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000396"></a><b>occur</b>(n=nil) {|| ...}
  </div>
  <div class="description">
  <p>
Returns an array of elements for the elements that <a
href="Enumerable.html#M000396">occur</a> n times. Or according to the
results of a given block.
</p>
<pre>
  [1,1,2,3,3,4,5,5].occur(1)             #=&gt; [2,4]
  [1,1,2,3,3,4,5,5].occur(2)             #=&gt; [1,3,5]
  [1,1,2,3,3,4,5,5].occur(3)             #=&gt; []

  [1,2,2,3,3,3].occur(1..1)              #=&gt; [1]
  [1,2,2,3,3,3].occur(2..3)              #=&gt; [2,3]

  [1,1,2,3,3,4,5,5].occur { |n| n == 1 } #=&gt; [2,4]
  [1,1,2,3,3,4,5,5].occur { |n| n &gt; 1 }  #=&gt; [1,3,5]

  CREDIT: ?
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000396_source')" id="l_M000396_source">show source</a> ]</p>
  <div id="M000396_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/occur.rb, line 18</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">occur</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:yield:</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">item</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">n</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Range</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">n</span>
        <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">n</span> }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000389"></a><b>one?</b>( {|e| ...}
  </div>
  <div class="description">
  <p>
Enumerable#one? returns <tt>true</tt> if and only if <em>exactly one</em>
element in the collection satisfies the given predicate.
</p>
<p>
If no predicate is provided, Enumerable#one? returns <tt>true</tt> if and
only if <em>exactly one</em> element has a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].one?                      # false
  [nil].one?                   # false
  [5].one?                     # true
  [5,8,9].one?                 # false
  (1...10).one? { |n| n == 5 } # true
  (1...10).one? { |n| n &lt; 5 }  # false

  CREDIT: Gavin Sinclair
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000389_source')" id="l_M000389_source">show source</a> ]</p>
  <div id="M000389_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/ruby.rb, line 172</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one?</span>  <span class="ruby-comment cmt"># :yield: e</span>
      <span class="ruby-identifier">matches</span> = <span class="ruby-value">0</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)
            <span class="ruby-identifier">matches</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
            <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">matches</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">one?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000412"></a><b>probability</b>()
  </div>
  <div class="description">
  <p>
Generates a hash mapping each unique symbol in the array to the relative <a
href="Enumerable.html#M000415">frequency</a>, i.e. the probablity, of it
appearence.
</p>
<pre>
  CREDIT: Brian Schr√∂der
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000412_source')" id="l_M000412_source">show source</a> ]</p>
  <div id="M000412_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/probability.rb, line 9</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">probability</span>
    <span class="ruby-identifier">probs</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span><span class="ruby-value">.0</span>)
    <span class="ruby-identifier">size</span> = <span class="ruby-value">0</span><span class="ruby-value">.0</span>
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">|</span>
      <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
      <span class="ruby-identifier">size</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">probs</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">/=</span> <span class="ruby-identifier">size</span> }
    <span class="ruby-identifier">probs</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000410"></a><b>split</b>(pattern)
  </div>
  <div class="description">
  <p>
Split on matching pattern. Unlike <a
href="Enumerable.html#M000401">divide</a> this does not include matching
elements.
</p>
<pre>
  ['a1','a2','b1','a3','b2','a4'].split(/^b/)
  =&gt; [['a1','a2'],['a3'],['a4']]
</pre>
<p>
CREDIT: Trans
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000410_source')" id="l_M000410_source">show source</a> ]</p>
  <div id="M000410_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/split.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split</span>(<span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">memo</span> = []
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pattern</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>
        <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">push</span> []
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">memo</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000394"></a><b>sum</b>(identity = 0, &amp;block)
  </div>
  <div class="description">
  <p>
Uses #+ to <a href="Enumerable.html#M000394">sum</a> the enumerated
elements.
</p>
<pre>
  [1,2,3].sum  #=&gt; 6
  [3,3,3].sum  #=&gt; 9
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000394_source')" id="l_M000394_source">show source</a> ]</p>
  <div id="M000394_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/sum.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sum</span>(<span class="ruby-identifier">identity</span> = <span class="ruby-value">0</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">sum</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">inject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">element</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">element</span> } <span class="ruby-operator">||</span> <span class="ruby-identifier">identity</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000392"></a><b>to_h</b>(arrayed=nil)
  </div>
  <div class="description">
  <p>
Convert an <a href="Enumerable.html">Enumerable</a> object into a hash by
first turning it into an array.
</p>
<p>
CREDIT: Trans
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000392_source')" id="l_M000392_source">show source</a> ]</p>
  <div id="M000392_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/to_hash.rb, line 65</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">arrayed</span>=<span class="ruby-keyword kw">nil</span>)
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">arrayed</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000405"></a><b>uniq_by</b>( {|| ...}
  </div>
  <div class="description">
  <p>
Like uniq, but determines uniqueness based on a given block.
</p>
<pre>
  (-5..5).to_a.uniq_by {|i| i*i }
</pre>
<p>
produces
</p>
<pre>
  [-5, -4, -3, -2, -1, 0]

  CREDIT: ?
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000405_source')" id="l_M000405_source">show source</a> ]</p>
  <div id="M000405_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/facets/enumerable/uniq_by.rb, line 13</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">uniq_by</span> <span class="ruby-comment cmt">#:yield:</span>
    <span class="ruby-identifier">h</span> = {}; <span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">x</span>)] <span class="ruby-operator">||=</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>}
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>